<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.github.wenzhencn.cmsseed.dev.mapper.RegionMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="baseResultMap" type="com.github.wenzhencn.cmsseed.dev.entity.RegionPO">
        <id column="id" property="id" />
        <result column="code" property="code" />
        <result column="name" property="name" />
        <result column="pcode" property="pcode" />
        <result column="sname" property="sname" />
        <result column="level" property="level" />
        <result column="citycode" property="citycode" />
        <result column="yzcode" property="yzcode" />
        <result column="mername" property="mername" />
        <result column="lng" property="lng" />
        <result column="lat" property="lat" />
        <result column="pinyin" property="pinyin" />
    </resultMap>

    <sql id="allColumns">
        id, `code`, `name`, pcode, sname, `level`, citycode, yzcode, mername, lng, lat, pinyin
    </sql>

<!--    <insert id="insert" useGeneratedKeys="true" keyProperty="id">-->
<!--        insert into sys_region(`code`, `name`, pcode, sname, `level`, citycode, yzcode, mername, lng, lat, pinyin)-->
<!--        values (#{code}, #{name}, #{pcode}, #{sname}, #{level}, #{citycode}, #{yzcode}, #{mername}, #{lng}, #{lat}, #{pinyin})-->
<!--    </insert>-->

    <update id="update">
        update sys_region
        <set>
            `code` = #{code},
            `name` = #{name},
            pcode = #{pcode},
            sname = #{sname},
            `level` = #{level},
            citycode = #{citycode},
            yzcode = #{yzcode},
            mername = #{mername},
            lng = #{lng},
            lat = #{lat},
            pinyin = #{pinyin}
        </set>
        where id = #{id}
    </update>

    <select id="selectByPcode" resultMap="baseResultMap">
        select
        <include refid="allColumns" />
        from sys_region where pcode = #{pcode}
    </select>
</mapper>